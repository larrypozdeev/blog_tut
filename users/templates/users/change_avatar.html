{% load static %}
{% block content %}
<style>
  .avatar-container {
    max-width: 250px;
  }
  .avatar-container img {
    max-width: 100%;
    border-radius: 15px !important;
    border: 1px solid #5f788a;
  }
  .label {
    cursor: pointer;
  }

  .progress {
    display: none;
    margin-bottom: 1rem;
  }

  .img-container img {
    /* max-width: 100%; */
  }
</style>
<div class="avatar-container mr-3">
  <form method="POST" id="profile_form" enctype="multipart/form-data">
      {% csrf_token %}
      <label class="label" data-toggle="tooltip" title="Change your avatar">
        <img class="rounded" id="avatar" src="{{ user.profile.image.url }}" alt="avatar">
        <input type="file" name="image" accept="image/*" class="sr-only" id="id_image">
      </label>
  </form>
  <div class="progress">
    <div class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">0%</div>
  </div>
  <div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="modalLabel">Crop the image</h5>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <div class="img-container">
            <img id="image" src="">
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          <button type="button" type='submit' class="btn btn-primary" id="crop">Crop</button>
        </div>
      </div>
    </div>
  </div>
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.11/cropper.js" integrity="" ></script>
<script src="{%static 'users/crop.js'%}" charset="utf-8"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.11/cropper.css" integrity=""/>

{% endblock content %}
